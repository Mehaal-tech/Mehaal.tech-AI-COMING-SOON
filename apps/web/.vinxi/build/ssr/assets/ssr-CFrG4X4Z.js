import{lazy as F,createComponent as j,sharedConfig as R}from"solid-js";import{ssrElement as g,escape as U,mergeProps as z,ssr as D,getRequestEvent as B,isServer as K,renderToString as Y,renderToStream as J}from"solid-js/web";import{provideRequestEvent as Q}from"solid-js/web/storage";import{H3Event as C,setResponseStatus as V,setHeader as X,getRequestIP as Z,getResponseStatus as ee,getResponseStatusText as te,getResponseHeader as re,setResponseHeader as se,removeResponseHeader as ne,appendResponseHeader as oe,getResponseHeaders as ae,getRequestURL as ie,getRequestWebStream as ce,sendRedirect as le,getCookie as ue,setCookie as de,eventHandler as pe}from"h3";import{AsyncLocalStorage as he}from"node:async_hooks";function fe(e={}){let r,t=!1;const s=i=>{if(r&&r!==i)throw new Error("Context conflict")};let o;if(e.asyncContext){const i=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;i?o=new i:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(o){const i=o.getStore();if(i!==void 0)return i}return r};return{use:()=>{const i=a();if(i===void 0)throw new Error("Context is not available");return i},tryUse:()=>a(),set:(i,n)=>{n||s(i),r=i,t=!0},unset:()=>{r=void 0,t=!1},call:(i,n)=>{s(i),r=i;try{return o?o.run(i,n):n()}finally{t||(r=void 0)}},async callAsync(i,n){r=i;const l=()=>{r=i},c=()=>r===i?l:void 0;v.add(c);try{const d=o?o.run(i,n):n();return t||(r=void 0),await d}finally{v.delete(c)}}}}function me(e={}){const r={};return{get(t,s={}){return r[t]||(r[t]=fe({...e,...s})),r[t]}}}const y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},N="__unctx__",ge=y[N]||(y[N]=me()),be=(e,r={})=>ge.get(e,r),O="__unctx_async_handlers__",v=y[O]||(y[O]=new Set);function ye(e){let r;const t=q(e),s={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(t,{...s,body:e.node.req.body}):new Request(t,{...s,get body(){return r||(r=Ee(e),r)}})}function xe(e){return e.web??={request:ye(e),url:q(e)},e.web.request}function Re(){return Me()}const L=Symbol("$HTTPEvent");function $e(e){return typeof e=="object"&&(e instanceof C||e?.[L]instanceof C||e?.__is_event__===!0)}function u(e){return function(...r){let t=r[0];if($e(t))r[0]=t instanceof C||t.__is_event__?t:t[L];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(t=Re(),!t)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");r.unshift(t)}return e(...r)}}const q=u(ie),Ce=u(Z),w=u(V),E=u(ee),we=u(te),b=u(ae),T=u(re),Se=u(se),Ae=u(oe),k=u(le),Ne=u(ue),Oe=u(de),ve=u(X),Ee=u(ce),Te=u(ne),ke=u(xe);function Ie(){return be("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:he})}function Me(){return Ie().use().event}const f={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function Pe(e={}){const r={options:e,rootNode:_(),staticRoutesMap:{}},t=s=>e.strictTrailingSlash?s:s.replace(/\/$/,"")||"/";if(e.routes)for(const s in e.routes)I(r,t(s),e.routes[s]);return{ctx:r,lookup:s=>He(r,t(s)),insert:(s,o)=>I(r,t(s),o),remove:s=>De(r,t(s))}}function He(e,r){const t=e.staticRoutesMap[r];if(t)return t.data;const s=r.split("/"),o={};let a=!1,i=null,n=e.rootNode,l=null;for(let c=0;c<s.length;c++){const d=s[c];n.wildcardChildNode!==null&&(i=n.wildcardChildNode,l=s.slice(c).join("/"));const m=n.children.get(d);if(m===void 0){if(n&&n.placeholderChildren.length>1){const x=s.length-c;n=n.placeholderChildren.find(p=>p.maxDepth===x)||null}else n=n.placeholderChildren[0]||null;if(!n)break;n.paramName&&(o[n.paramName]=d),a=!0}else n=m}return(n===null||n.data===null)&&i!==null&&(n=i,o[n.paramName||"_"]=l,a=!0),n?a?{...n.data,params:a?o:void 0}:n.data:null}function I(e,r,t){let s=!0;const o=r.split("/");let a=e.rootNode,i=0;const n=[a];for(const l of o){let c;if(c=a.children.get(l))a=c;else{const d=Le(l);c=_({type:d,parent:a}),a.children.set(l,c),d===f.PLACEHOLDER?(c.paramName=l==="*"?`_${i++}`:l.slice(1),a.placeholderChildren.push(c),s=!1):d===f.WILDCARD&&(a.wildcardChildNode=c,c.paramName=l.slice(3)||"_",s=!1),n.push(c),a=c}}for(const[l,c]of n.entries())c.maxDepth=Math.max(n.length-l,c.maxDepth||0);return a.data=t,s===!0&&(e.staticRoutesMap[r]=a),a}function De(e,r){let t=!1;const s=r.split("/");let o=e.rootNode;for(const a of s)if(o=o.children.get(a),!o)return t;if(o.data){const a=s.at(-1)||"";o.data=null,Object.keys(o.children).length===0&&o.parent&&(o.parent.children.delete(a),o.parent.wildcardChildNode=null,o.parent.placeholderChildren=[]),t=!0}return t}function _(e={}){return{type:e.type||f.NORMAL,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function Le(e){return e.startsWith("**")?f.WILDCARD:e[0]===":"||e==="*"?f.PLACEHOLDER:f.NORMAL}const G=[{page:!0,$component:{src:"src/routes/auth/login.tsx?pick=default&pick=$css",build:()=>import("../login.js"),import:()=>import("../login.js")},path:"/auth/login",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/auth/login.tsx"},{page:!0,$component:{src:"src/routes/cms/media/index.tsx?pick=default&pick=$css",build:()=>import("../index.js"),import:()=>import("../index.js")},path:"/cms/media/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/cms/media/index.tsx"},{page:!0,$component:{src:"src/routes/cms/pages/index.tsx?pick=default&pick=$css",build:()=>import("../index2.js"),import:()=>import("../index2.js")},path:"/cms/pages/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/cms/pages/index.tsx"},{page:!0,$component:{src:"src/routes/cms/pages/[id].tsx?pick=default&pick=$css",build:()=>import("../_id_.js"),import:()=>import("../_id_.js")},path:"/cms/pages/:id",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/cms/pages/[id].tsx"},{page:!0,$component:{src:"src/routes/cms/pricing/index.tsx?pick=default&pick=$css",build:()=>import("../index3.js"),import:()=>import("../index3.js")},path:"/cms/pricing/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/cms/pricing/index.tsx"},{page:!0,$component:{src:"src/routes/cms/services/index.tsx?pick=default&pick=$css",build:()=>import("../index4.js"),import:()=>import("../index4.js")},path:"/cms/services/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/cms/services/index.tsx"},{page:!0,$component:{src:"src/routes/cms/settings/index.tsx?pick=default&pick=$css",build:()=>import("../index5.js"),import:()=>import("../index5.js")},path:"/cms/settings/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/cms/settings/index.tsx"},{page:!0,$component:{src:"src/routes/dashboard/client/index.tsx?pick=default&pick=$css",build:()=>import("../index6.js"),import:()=>import("../index6.js")},path:"/dashboard/client/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/dashboard/client/index.tsx"},{page:!0,$component:{src:"src/routes/dashboard/franchise/index.tsx?pick=default&pick=$css",build:()=>import("../index7.js"),import:()=>import("../index7.js")},path:"/dashboard/franchise/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/dashboard/franchise/index.tsx"},{page:!0,$component:{src:"src/routes/dashboard/management/index.tsx?pick=default&pick=$css",build:()=>import("../index8.js"),import:()=>import("../index8.js")},path:"/dashboard/management/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/dashboard/management/index.tsx"},{page:!0,$component:{src:"src/routes/dashboard/owner/index.tsx?pick=default&pick=$css",build:()=>import("../index9.js"),import:()=>import("../index9.js")},path:"/dashboard/owner/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/dashboard/owner/index.tsx"},{page:!0,$component:{src:"src/routes/dashboard/partner/index.tsx?pick=default&pick=$css",build:()=>import("../index10.js"),import:()=>import("../index10.js")},path:"/dashboard/partner/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/dashboard/partner/index.tsx"},{page:!0,$component:{src:"src/routes/index.tsx?pick=default&pick=$css",build:()=>import("../index11.js"),import:()=>import("../index11.js")},path:"/",filePath:"D:/code/site/Mehaal.tech-AI-COMING-SOON/apps/web/src/routes/index.tsx"}],qe=_e(G.filter(e=>e.page));function _e(e){function r(t,s,o,a){const i=Object.values(t).find(n=>o.startsWith(n.id+"/"));return i?(r(i.children||(i.children=[]),s,o.slice(i.id.length)),t):(t.push({...s,id:o,path:o.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/")}),t)}return e.sort((t,s)=>t.path.length-s.path.length).reduce((t,s)=>r(t,s,s.path,s.path),[])}function Ge(e,r){const t=Fe.lookup(e);if(t&&t.route){const s=t.route,o=r==="HEAD"?s.$HEAD||s.$GET:s[`$${r}`];if(o===void 0)return;const a=s.page===!0&&s.$component!==void 0;return{handler:o,params:t.params,isPage:a}}}function We(e){return e.$HEAD||e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}const Fe=Pe({routes:G.reduce((e,r)=>{if(!We(r))return e;let t=r.path.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/").replace(/\*([^/]*)/g,(s,o)=>`**:${o}`).split("/").map(s=>s.startsWith(":")||s.startsWith("*")?s:encodeURIComponent(s)).join("/");if(/:[^/]*\?/g.test(t))throw new Error(`Optional parameters are not supported in API routes: ${t}`);if(e[t])throw new Error(`Duplicate API routes for "${t}" found at "${e[t].route.path}" and "${r.path}"`);return e[t]={route:r},e},{})}),$="solidFetchEvent";function je(e){return{request:ke(e),response:Be(e),clientAddress:Ce(e),locals:{},nativeEvent:e}}function Ue(e){if(!e.context[$]){const r=je(e);e.context[$]=r}return e.context[$]}class ze{event;constructor(r){this.event=r}get(r){const t=T(this.event,r);return Array.isArray(t)?t.join(", "):t||null}has(r){return this.get(r)!==null}set(r,t){return Se(this.event,r,t)}delete(r){return Te(this.event,r)}append(r,t){Ae(this.event,r,t)}getSetCookie(){const r=T(this.event,"Set-Cookie");return Array.isArray(r)?r:[r]}forEach(r){return Object.entries(b(this.event)).forEach(([t,s])=>r(Array.isArray(s)?s.join(", "):s,t,this))}entries(){return Object.entries(b(this.event)).map(([r,t])=>[r,Array.isArray(t)?t.join(", "):t])[Symbol.iterator]()}keys(){return Object.keys(b(this.event))[Symbol.iterator]()}values(){return Object.values(b(this.event)).map(r=>Array.isArray(r)?r.join(", "):r)[Symbol.iterator]()}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}function Be(e){return{get status(){return E(e)},set status(r){w(e,r)},get statusText(){return we(e)},set statusText(r){w(e,E(e),r)},headers:new ze(e)}}function Ke(e){e.forEach(r=>{if(!r.attrs.href)return;let t=document.head.querySelector(`link[href="${r.attrs.href}"]`);t||(t=document.createElement("link"),t.setAttribute("rel","preload"),t.setAttribute("as","style"),t.setAttribute("href",r.attrs.href),document.head.appendChild(t))})}var Ye=" ";const Je={style:e=>g("style",e.attrs,()=>e.children,!0),link:e=>g("link",e.attrs,void 0,!0),script:e=>e.attrs.src?g("script",z(()=>e.attrs,{get id(){return e.key}}),()=>D(Ye),!0):null,noscript:e=>g("noscript",e.attrs,()=>U(e.children),!0)};function Qe(e,r){let{tag:t,attrs:{key:s,...o}={key:void 0},children:a}=e;return Je[t]({attrs:{...o,nonce:r},key:s,children:a})}function Ve(e,r,t,s="default"){return F(async()=>{{const a=(await e.import())[s],n=(await r.inputs?.[e.src].assets()).filter(c=>c.tag==="style"||c.attrs.rel==="stylesheet");return typeof window<"u"&&Ke(n),{default:c=>[...n.map(d=>Qe(d)),j(a,c)]}}})}function W(){function e(t){return{...t,...t.$$route?t.$$route.require().route:void 0,info:{...t.$$route?t.$$route.require().route.info:{},filesystem:!0},component:t.$component&&Ve(t.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:t.children?t.children.map(e):void 0}}return qe.map(e)}let M;const ct=K?()=>B().routes:()=>M||(M=W());function Xe(e){const r=Ne(e.nativeEvent,"flash");if(r)try{let t=JSON.parse(r);if(!t||!t.result)return;const s=[...t.input.slice(0,-1),new Map(t.input[t.input.length-1])],o=t.error?new Error(t.result):t.result;return{input:s,url:t.url,pending:!1,result:t.thrown?void 0:o,error:t.thrown?o:void 0}}catch(t){console.error(t)}finally{Oe(e.nativeEvent,"flash","",{maxAge:0})}}async function Ze(e){const r=globalThis.MANIFEST.client;return globalThis.MANIFEST.ssr,e.response.headers.set("Content-Type","text/html"),Object.assign(e,{manifest:await r.json(),assets:[...await r.inputs[r.handler].assets()],router:{submission:Xe(e)},routes:W(),complete:!1,$islands:new Set})}const et=new Set([301,302,303,307,308]);function S(e){return e.status&&et.has(e.status)?e.status:302}function tt(e,r,t={},s){return pe({handler:o=>{const a=Ue(o);return Q(a,async()=>{const i=Ge(new URL(a.request.url).pathname,a.request.method);if(i){const p=await i.handler.import(),h=a.request.method==="HEAD"?p.HEAD||p.GET:p[a.request.method];a.params=i.params||{},R.context={event:a};const A=await h(a);if(A!==void 0)return A;if(a.request.method!=="GET")throw new Error(`API handler for ${a.request.method} "${a.request.url}" did not return a response.`);if(!i.isPage)return}const n=await r(a),l=typeof t=="function"?await t(n):{...t},c=l.mode||"stream";if(l.nonce&&(n.nonce=l.nonce),c==="sync"){const p=Y(()=>(R.context.event=n,e(n)),l);if(n.complete=!0,n.response&&n.response.headers.get("Location")){const h=S(n.response);return k(o,n.response.headers.get("Location"),h)}return p}if(l.onCompleteAll){const p=l.onCompleteAll;l.onCompleteAll=h=>{H(n)(h),p(h)}}else l.onCompleteAll=H(n);if(l.onCompleteShell){const p=l.onCompleteShell;l.onCompleteShell=h=>{P(n,o)(),p(h)}}else l.onCompleteShell=P(n,o);const d=J(()=>(R.context.event=n,e(n)),l);if(n.response&&n.response.headers.get("Location")){const p=S(n.response);return k(o,n.response.headers.get("Location"),p)}if(c==="async")return d;const{writable:m,readable:x}=new TransformStream;return d.pipeTo(m),x})}})}function P(e,r){return()=>{if(e.response&&e.response.headers.get("Location")){const t=S(e.response);w(r,t),ve(r,"Location",e.response.headers.get("Location"))}}}function H(e){return({write:r})=>{e.complete=!0;const t=e.response&&e.response.headers.get("Location");t&&r(`<script>window.location="${t}"<\/script>`)}}function rt(e,r,t){return tt(e,Ze,r)}D("<!DOCTYPE html>");const lt=rt(()=>import("./root-p0kWiATY.js"));export{ct as F,lt as h};
