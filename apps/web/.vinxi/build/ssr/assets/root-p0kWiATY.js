import{createComponent as m,isServer as P,getRequestEvent as q,delegateEvents as _,spread as j,useAssets as H,ssr as C,escape as E,ssrHydrationKey as U}from"solid-js/web";import{children as V,createMemo as k,getOwner as W,untrack as D,Show as K,on as J,createRoot as z,createSignal as G,onCleanup as O,sharedConfig as S,createContext as Q,createUniqueId as X,useContext as Y,createRenderEffect as Z,ErrorBoundary as ee,Suspense as te}from"solid-js";import{F as re}from"./ssr-CFrG4X4Z.js";import{c as ne,b as oe,R as ae,g as ie,d as se,e as $,f as ce,m as ue,h as le,k as de,s as fe,n as he}from"./routing-0hP7Sh6N.js";import"solid-js/web/storage";import"h3";import"node:async_hooks";const F=e=>t=>{const{base:r}=t,o=V(()=>t.children),n=k(()=>ne(o(),t.base||""));let a;const i=oe(e,n,()=>a,{base:r,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(i),m(ae.Provider,{value:i,get children(){return m(me,{routerState:i,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[(a=W())&&null,m(pe,{routerState:i,get branches(){return n()}})]}})}})};function me(e){const t=e.routerState.location,r=e.routerState.params,o=k(()=>e.preload&&D(()=>{e.preload({params:r,location:t,intent:ie()||"initial"})}));return m(K,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:n=>m(n,{params:r,location:t,get data(){return o()},get children(){return e.children}})})}function pe(e){if(P){const n=q();if(n&&n.router&&n.router.dataOnly){ge(n,e.routerState,e.branches);return}n&&((n.router||(n.router={})).matches||(n.router.matches=e.routerState.matches().map(({route:a,path:i,params:u})=>({path:a.originalPath,pattern:a.pattern,match:i,params:u,info:a.info}))))}const t=[];let r;const o=k(J(e.routerState.matches,(n,a,i)=>{let u=a&&n.length===a.length;const h=[];for(let l=0,p=n.length;l<p;l++){const w=a&&a[l],g=n[l];i&&w&&g.route.key===w.route.key?h[l]=i[l]:(u=!1,t[l]&&t[l](),z(y=>{t[l]=y,h[l]=se(e.routerState,h[l-1]||e.routerState.base,I(()=>o()[l+1]),()=>{const b=e.routerState.matches();return b[l]??b[0]})}))}return t.splice(n.length).forEach(l=>l()),i&&u?i:(r=h[0],h)}));return I(()=>o()&&r)()}const I=e=>()=>m(K,{get when(){return e()},keyed:!0,children:t=>m(ce.Provider,{value:t,get children(){return t.outlet()}})});function ge(e,t,r){const o=new URL(e.request.url),n=$(r,new URL(e.router.previousUrl||e.request.url).pathname),a=$(r,o.pathname);for(let i=0;i<a.length;i++){(!n[i]||a[i].route!==n[i].route)&&(e.router.dataOnly=!0);const{route:u,params:h}=a[i];u.preload&&u.preload({params:h,location:t.location,intent:"preload"})}}function we([e,t],r,o){return[e,o?n=>t(o(n)):t]}function be(e){let t=!1;const r=n=>typeof n=="string"?{value:n}:n,o=we(G(r(e.get()),{equals:(n,a)=>n.value===a.value&&n.state===a.state}),void 0,n=>(!t&&e.set(n),S.registry&&!S.done&&(S.done=!0),n));return e.init&&O(e.init((n=e.get())=>{t=!0,o[1](r(n)),t=!1})),F({signal:o,create:e.create,utils:e.utils})}function ve(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function ye(e,t){const r=e&&document.getElementById(e);r?r.scrollIntoView():t&&window.scrollTo(0,0)}function Re(e){const t=new URL(e);return t.pathname+t.search}function Se(e){let t;const r={value:e.url||(t=q())&&Re(t.request.url)||""};return F({signal:[()=>r,o=>Object.assign(r,o)]})(e)}const xe=new Map;function Ce(e=!0,t=!1,r="/_server",o){return n=>{const a=n.base.path(),i=n.navigatorFactory(n.base);let u,h;function l(s){return s.namespaceURI==="http://www.w3.org/2000/svg"}function p(s){if(s.defaultPrevented||s.button!==0||s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)return;const c=s.composedPath().find(N=>N instanceof Node&&N.nodeName.toUpperCase()==="A");if(!c||t&&!c.hasAttribute("link"))return;const f=l(c),d=f?c.href.baseVal:c.href;if((f?c.target.baseVal:c.target)||!d&&!c.hasAttribute("state"))return;const v=(c.getAttribute("rel")||"").split(/\s+/);if(c.hasAttribute("download")||v&&v.includes("external"))return;const R=f?new URL(d,document.baseURI):new URL(d);if(!(R.origin!==window.location.origin||a&&R.pathname&&!R.pathname.toLowerCase().startsWith(a.toLowerCase())))return[c,R]}function w(s){const c=p(s);if(!c)return;const[f,d]=c,T=n.parsePath(d.pathname+d.search+d.hash),v=f.getAttribute("state");s.preventDefault(),i(T,{resolve:!1,replace:f.hasAttribute("replace"),scroll:!f.hasAttribute("noscroll"),state:v?JSON.parse(v):void 0})}function g(s){const c=p(s);if(!c)return;const[f,d]=c;o&&(d.pathname=o(d.pathname)),n.preloadRoute(d,f.getAttribute("preload")!=="false")}function y(s){clearTimeout(u);const c=p(s);if(!c)return h=null;const[f,d]=c;h!==f&&(o&&(d.pathname=o(d.pathname)),u=setTimeout(()=>{n.preloadRoute(d,f.getAttribute("preload")!=="false"),h=f},20))}function b(s){if(s.defaultPrevented)return;let c=s.submitter&&s.submitter.hasAttribute("formaction")?s.submitter.getAttribute("formaction"):s.target.getAttribute("action");if(!c)return;if(!c.startsWith("https://action/")){const d=new URL(c,ue);if(c=n.parsePath(d.pathname+d.search),!c.startsWith(r))return}if(s.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const f=xe.get(c);if(f){s.preventDefault();const d=new FormData(s.target,s.submitter);f.call({r:n,f:s.target},s.target.enctype==="multipart/form-data"?d:new URLSearchParams(d))}}_(["click","submit"]),document.addEventListener("click",w),e&&(document.addEventListener("mousemove",y,{passive:!0}),document.addEventListener("focusin",g,{passive:!0}),document.addEventListener("touchstart",g,{passive:!0})),document.addEventListener("submit",b),O(()=>{document.removeEventListener("click",w),e&&(document.removeEventListener("mousemove",y),document.removeEventListener("focusin",g),document.removeEventListener("touchstart",g)),document.removeEventListener("submit",b)})}}function Ee(e){if(P)return Se(e);const t=()=>{const o=window.location.pathname.replace(/^\/+/,"/")+window.location.search,n=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:o+window.location.hash,state:n}},r=le();return be({get:t,set({value:o,replace:n,scroll:a,state:i}){n?window.history.replaceState(de(i),"",o):window.history.pushState(i,"",o),ye(decodeURIComponent(window.location.hash.slice(1)),a),fe()},init:o=>ve(window,"popstate",he(o,n=>{if(n)return!r.confirm(n);{const a=t();return!r.confirm(a.value,{state:a.state})}})),create:Ce(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:o=>window.history.go(o),beforeLeave:r}})(e)}const M=Q(),B=["title","meta"],L=[],A=["name","http-equiv","content","charset","media"].concat(["property"]),x=(e,t)=>{const r=Object.fromEntries(Object.entries(e.props).filter(([o])=>t.includes(o)).sort());return(Object.hasOwn(r,"name")||Object.hasOwn(r,"property"))&&(r.name=r.name||r.property,delete r.property),e.tag+JSON.stringify(r)};function Le(){if(!S.context){const r=document.head.querySelectorAll("[data-sm]");Array.prototype.forEach.call(r,o=>o.parentNode.removeChild(o))}const e=new Map;function t(r){if(r.ref)return r.ref;let o=document.querySelector(`[data-sm="${r.id}"]`);return o?(o.tagName.toLowerCase()!==r.tag&&(o.parentNode&&o.parentNode.removeChild(o),o=document.createElement(r.tag)),o.removeAttribute("data-sm")):o=document.createElement(r.tag),o}return{addTag(r){if(B.indexOf(r.tag)!==-1){const a=r.tag==="title"?L:A,i=x(r,a);e.has(i)||e.set(i,[]);let u=e.get(i),h=u.length;u=[...u,r],e.set(i,u);let l=t(r);r.ref=l,j(l,r.props);let p=null;for(var o=h-1;o>=0;o--)if(u[o]!=null){p=u[o];break}return l.parentNode!=document.head&&document.head.appendChild(l),p&&p.ref&&p.ref.parentNode&&document.head.removeChild(p.ref),h}let n=t(r);return r.ref=n,j(n,r.props),n.parentNode!=document.head&&document.head.appendChild(n),-1},removeTag(r,o){const n=r.tag==="title"?L:A,a=x(r,n);if(r.ref){const i=e.get(a);if(i){if(r.ref.parentNode){r.ref.parentNode.removeChild(r.ref);for(let u=o-1;u>=0;u--)i[u]!=null&&document.head.appendChild(i[u].ref)}i[o]=null,e.set(a,i)}else r.ref.parentNode&&r.ref.parentNode.removeChild(r.ref)}}}}function Ae(){const e=[];return H(()=>C(Te(e))),{addTag(t){if(B.indexOf(t.tag)!==-1){const r=t.tag==="title"?L:A,o=x(t,r),n=e.findIndex(a=>a.tag===t.tag&&x(a,r)===o);n!==-1&&e.splice(n,1)}return e.push(t),e.length},removeTag(t,r){}}}const Pe=e=>{const t=P?Ae():Le();return m(M.Provider,{value:t,get children(){return e.children}})},ke=(e,t,r)=>(Oe({tag:e,props:t,setting:r,id:X(),get name(){return t.name||t.property}}),null);function Oe(e){const t=Y(M);if(!t)throw new Error("<MetaProvider /> should be in the tree");Z(()=>{const r=t.addTag(e);O(()=>t.removeTag(e,r))})}function Te(e){return e.map(t=>{const o=Object.keys(t.props).map(a=>a==="children"?"":` ${a}="${E(t.props[a],!0)}"`).join("");let n=t.props.children;return Array.isArray(n)&&(n=n.join("")),t.setting?.close?`<${t.tag} data-sm="${t.id}"${o}>${t.setting?.escape?E(n):n||""}</${t.tag}>`:`<${t.tag} data-sm="${t.id}"${o}/>`}).join("")}const Ne=e=>ke("title",e,{escape:!0,close:!0});var je=["<div",' class="min-h-screen flex items-center justify-center bg-black text-white"><div class="text-center max-w-md p-8"><h1 class="text-3xl font-bold mb-4">⚠️ Something went wrong</h1><p class="text-gray-400 mb-6">','</p><button class="px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">Try Again</button></div></div>'],Ue=["<div",' class="min-h-screen flex items-center justify-center bg-black"><div class="text-white text-xl">Loading...</div></div>'];function _e(){return m(Ee,{root:e=>m(Pe,{get children(){return[m(Ne,{children:"Mehaal.Tech - AI-Powered Solutions"}),m(ee,{fallback:(t,r)=>C(je,U(),E(t.toString())),get children(){return m(te,{get fallback(){return C(Ue,U())},get children(){return e.children}})}})]}}),get children(){return m(re,{})}})}export{_e as default};
